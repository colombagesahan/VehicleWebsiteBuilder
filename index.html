<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DriveHub Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- SYSTEM LOADERS -->
    <div id="initLoader" class="init-loader"><div class="spinner"></div><p>Initializing Ecosystem...</p></div>
    <div id="loader" class="loader-overlay hidden"><div class="spinner"></div><p id="loaderText">Processing...</p></div>
    <div id="toastContainer" class="toast-container"></div>

    <!-- 1. EDIT VEHICLE MODAL -->
    <div id="editVehicleModal" class="modal-overlay hidden">
        <div class="modal-content large-modal-content">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
                <h2>Edit Vehicle</h2>
                <button class="close-modal" onclick="ui.closeModal()" style="position:static;">&times;</button>
            </div>
            <form id="formEditVehicle">
                <input type="hidden" id="editVId">
                <div class="grid-2">
                    <div class="form-group"><label>Category</label><select id="editVCat"></select></div>
                    <div class="form-group"><label>Brand</label><input type="text" id="editVBrand" required></div>
                    <div class="form-group"><label>Model</label><input type="text" id="editVModel" required></div>
                    <div class="form-group"><label>Trim</label><input type="text" id="editVTrim"></div>
                    <div class="form-group"><label>Year</label><input type="number" id="editVYear" required></div>
                    <div class="form-group"><label>Condition</label><input type="text" id="editVCond"></div>
                    <div class="form-group"><label>Transmission</label><select id="editVTrans"><option>Automatic</option><option>Manual</option><option>Tiptronic</option></select></div>
                    <div class="form-group"><label>Fuel</label><select id="editVFuel"><option>Petrol</option><option>Diesel</option><option>Hybrid</option><option>Electric</option></select></div>
                    <div class="form-group"><label>Price (Rs)</label><input type="number" id="editVPrice" required></div>
                    <div class="form-group"><label>Mileage (km)</label><input type="number" id="editVMileage" required></div>
                    <div class="form-group"><label>Body</label><input type="text" id="editVBody"></div>
                    <div class="form-group"><label>Engine</label><input type="text" id="editVEngine"></div>
                    <div class="form-group"><label>Book</label><select id="editVBook"><option>Original Book</option><option>Duplicate Book</option></select></div>
                    <div class="form-group"><label>Finance</label><select id="editVFinance"><option value="no">No Finance</option><option value="yes">Has Finance</option></select></div>
                </div>
                <div class="form-group"><label>Description</label><textarea id="editVDesc" rows="5"></textarea></div>
                <div class="form-group"><label>YouTube Link</label><input type="url" id="editVYoutube"></div>
                <button type="submit" class="btn btn-primary full-width">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- 2. PUBLIC SITE VEHICLE MODAL -->
    <div id="siteVehicleModal" class="modal-overlay hidden" style="z-index: 9999;">
        <div class="modal-content large-modal dark-modal-theme">
            <button class="close-modal" onclick="document.getElementById('siteVehicleModal').classList.add('hidden')">&times;</button>
            <div id="siteModalContent"></div>
        </div>
    </div>

    <!-- 3. LIGHTBOX -->
    <div id="lightboxModal" class="lightbox-overlay hidden">
        <span class="close-lightbox" onclick="document.getElementById('lightboxModal').classList.add('hidden')">&times;</span>
        <img id="lightboxImg" src="">
    </div>

    <!-- 4. CHAT MODAL -->
    <div id="chatModal" class="modal-overlay hidden">
        <div class="modal-content chat-content">
            <div class="chat-header">
                <h3 id="chatUserName">Chat</h3>
                <button class="close-modal" onclick="document.getElementById('chatModal').classList.add('hidden')" style="position:static;">&times;</button>
            </div>
            <div id="chatHistory" class="chat-history"></div>
            <form id="chatForm" class="chat-input-area">
                <input type="hidden" id="chatThreadId">
                <input type="text" id="chatMessage" placeholder="Type a message..." required>
                <button type="submit" class="btn btn-primary"><i class="fa-solid fa-paper-plane"></i></button>
            </form>
        </div>
    </div>

    <!-- =======================================================
         PLATFORM DASHBOARD
    ======================================================== -->
    <div id="platformApp">
        <nav class="navbar">
            <div class="nav-brand">Drive<span>Hub</span></div>
            <div class="nav-links">
                <button id="btnLoginNav" class="btn btn-primary btn-sm">Login</button>
                <button id="btnLogoutNav" class="btn btn-outline btn-sm hidden">Logout</button>
            </div>
        </nav>

        <!-- LANDING -->
        <section id="viewLanding" class="view">
            <div class="hero">
                <h1 id="landingTitle">Welcome to DriveHub</h1>
                <p>Please Sign In or Create an Account to continue.</p>
                <button class="btn btn-primary btn-lg" onclick="ui.showView('viewAuth')">Sign In / Register</button>
                <br><br>
                <a href="home.html" style="text-decoration: underline; color: #2563eb;">&larr; Switch Role</a>
            </div>
        </section>

        <!-- AUTH -->
        <section id="viewAuth" class="view hidden">
            <div class="auth-container">
                <h2>Account Access</h2>
                <form id="authForm">
                    <div class="form-group"><label>Email</label><input type="email" id="authEmail" required></div>
                    <div class="form-group"><label>Password</label><input type="password" id="authPass" required></div>
                    <div class="btn-group">
                        <button type="button" id="btnLogin" class="btn btn-primary">Login</button>
                        <button type="button" id="btnSignup" class="btn btn-secondary">Create Account</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- DASHBOARD -->
        <section id="viewDashboard" class="view hidden">
            <div class="dash-layout">
                <aside class="dash-sidebar">
                    <div class="user-info">
                        <div class="avatar-circle" id="dashAvatar"><i class="fa-solid fa-user"></i></div>
                        <span id="dashEmail">User</span>
                        <span id="dashRole" class="badge">Role</span>
                    </div>
                    <nav class="side-nav" id="dynamicSidebar">
                        <!-- JS Injected based on Role -->
                    </nav>
                </aside>

                <main class="dash-content">
                    
                    <!-- A. COMMON: PROFILE -->
                    <div id="tabProfile" class="dash-tab active">
                        <h2>Profile Settings</h2>
                        <div class="card">
                            <div class="alert-box warning" id="profileNotice">
                                <i class="fa-solid fa-lock"></i> 
                                <strong>You must complete your profile to unlock your dashboard.</strong>
                            </div>
                            <fieldset id="profFields">
                                <div class="form-group">
                                    <label>Profile Photo</label>
                                    <input type="file" id="profPhoto" accept="image/*">
                                </div>
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label>Phone Number</label>
                                        <input type="tel" id="profPhone" placeholder="771234567" required>
                                    </div>
                                    <div class="form-group">
                                        <label>WhatsApp Number</label>
                                        <input type="tel" id="profWhatsapp" placeholder="771234567" required>
                                    </div>
                                </div>
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label>City / Town</label>
                                        <input type="text" id="profCity" placeholder="e.g. Athurugiriya" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Address</label>
                                        <input type="text" id="profAddress" placeholder="Full Address" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Bank Details (for earnings payout)</label>
                                    <textarea id="profBank" rows="2" placeholder="Bank Name, Account Number, Branch"></textarea>
                                </div>
                            </fieldset>
                            <div class="btn-group">
                                <button id="saveProfile" class="btn btn-primary">Save Profile</button>
                                <button id="editProfileBtn" class="btn btn-outline hidden">Edit Profile</button>
                            </div>
                        </div>
                    </div>

                    <!-- B. ROLE: VEHICLE SELLER -->
                    <div id="tabAddVehicle" class="dash-tab">
                        <h2>Add Vehicle</h2>
                        <form id="formAddVehicle" class="card">
                            <div class="grid-2">
                                <select id="vCat" required></select>
                                <input type="text" id="vBrand" placeholder="Brand (e.g. Toyota)" required>
                                <input type="text" id="vModel" placeholder="Model" required>
                                <input type="text" id="vTrim" placeholder="Trim">
                                <input type="number" id="vYear" placeholder="Year" required>
                                <input type="text" id="vCond" placeholder="Condition">
                                <select id="vTrans"><option>Automatic</option><option>Manual</option><option>Tiptronic</option></select>
                                <select id="vFuel"><option>Petrol</option><option>Diesel</option><option>Hybrid</option><option>Electric</option></select>
                                <input type="number" id="vPrice" placeholder="Price (Rs)" required>
                                <input type="number" id="vMileage" placeholder="Mileage (km)" required>
                                <input type="text" id="vBody" placeholder="Body Type">
                                <input type="text" id="vEngine" placeholder="Engine CC">
                                <select id="vBook"><option>Original Book</option><option>Duplicate Book</option></select>
                                <select id="vFinance"><option value="no">No Finance</option><option value="yes">Has Finance</option></select>
                            </div>
                            <textarea id="vDesc" placeholder="Description"></textarea>
                            <input type="url" id="vYoutube" placeholder="YouTube Video Link">
                            <div class="form-group mt-4">
                                <label>Upload Photos (Max 10)</label>
                                <input type="file" id="vPhotosInput" multiple accept="image/*" class="mb-2">
                                <div id="vPhotoStaging" class="img-staging-grid"></div>
                            </div>
                            <button type="submit" class="btn btn-primary full-width mt-4">Publish Vehicle</button>
                        </form>
                    </div>
                    <div id="tabMyVehicles" class="dash-tab">
                        <h2>My Inventory</h2>
                        <input type="text" id="searchV" placeholder="Search..." class="full-width mb-2" onkeyup="app.searchVehicles()">
                        <div id="myVehiclesList" class="vehicle-grid"></div>
                    </div>

                    <!-- C. ROLE: PARTS SELLER -->
                    <div id="tabAddPart" class="dash-tab">
                        <h2>Add Auto Part</h2>
                        <form id="formAddPart" class="card">
                            <div class="grid-2">
                                <input type="text" id="pName" placeholder="Part Name" required>
                                <input type="text" id="pBrand" placeholder="Brand" required>
                                <input type="text" id="pModel" placeholder="Fits Model">
                                <select id="pCondition"><option>Brand New</option><option>Reconditioned</option><option>Used</option></select>
                                <input type="number" id="pPrice" placeholder="Price (Rs)" required>
                            </div>
                            <textarea id="pDesc" placeholder="Description"></textarea>
                            <input type="file" id="pPhotos" accept="image/*" class="mt-2">
                            <button type="submit" class="btn btn-primary full-width mt-4">Publish Part</button>
                        </form>
                    </div>
                    <div id="tabMyParts" class="dash-tab">
                        <h2>My Products</h2>
                        <div id="myPartsList" class="vehicle-grid"></div>
                    </div>

                    <!-- D. ROLE: SERVICE PROVIDER -->
                    <div id="tabAddService" class="dash-tab">
                        <h2>Add Service / Package</h2>
                        <form id="formAddService" class="card">
                            <div class="grid-2">
                                <input type="text" id="sName" placeholder="Service Name (e.g. Hybrid Battery Scan)" required>
                                <input type="number" id="sPrice" placeholder="Starting Price (Rs)">
                            </div>
                            <textarea id="sDesc" placeholder="Details..."></textarea>
                            <input type="file" id="sPhotos" accept="image/*" class="mt-2">
                            <button type="submit" class="btn btn-primary full-width mt-4">Publish Service</button>
                        </form>
                    </div>
                    <div id="tabMyServices" class="dash-tab">
                        <h2>My Services</h2>
                        <div id="myServicesList" class="vehicle-grid"></div>
                    </div>

                    <!-- E. ROLE: RENTAL PROVIDER -->
                    <div id="tabAddRental" class="dash-tab">
                        <h2>Add Rental Vehicle</h2>
                        <form id="formAddRental" class="card">
                            <div class="grid-2">
                                <input type="text" id="rBrand" placeholder="Brand (e.g. Honda)" required>
                                <input type="text" id="rModel" placeholder="Model (e.g. Vezel)" required>
                                <input type="number" id="rDaily" placeholder="Daily Rate (Rs)" required>
                                <input type="number" id="rMonthly" placeholder="Monthly Rate (Rs)">
                                <select id="rDriver"><option value="self">Self Drive</option><option value="driver">With Driver</option><option value="both">Both Available</option></select>
                                <select id="rFuel"><option>Petrol</option><option>Diesel</option><option>Hybrid</option><option>Electric</option></select>
                            </div>
                            <textarea id="rDesc" placeholder="Conditions, Deposit details, etc."></textarea>
                            <input type="file" id="rPhotos" accept="image/*" class="mt-2">
                            <button type="submit" class="btn btn-primary full-width mt-4">Publish Rental</button>
                        </form>
                    </div>
                    <div id="tabMyRentals" class="dash-tab">
                        <h2>My Fleet</h2>
                        <div id="myRentalsList" class="vehicle-grid"></div>
                    </div>

                    <!-- F. ROLE: FINANCE PROVIDER -->
                    <div id="tabAddFinance" class="dash-tab">
                        <h2>Add Finance Package</h2>
                        <form id="formAddFinance" class="card">
                            <div class="grid-2">
                                <input type="text" id="fTitle" placeholder="Package Name (e.g. Easy Lease)" required>
                                <input type="text" id="fRate" placeholder="Interest Rate (e.g. 18%)" required>
                                <input type="text" id="fMax" placeholder="Max Amount / Ratio (e.g. Up to 70%)">
                                <input type="text" id="fTerm" placeholder="Terms (e.g. 5 Years)">
                            </div>
                            <textarea id="fDesc" placeholder="Required documents, eligibility..."></textarea>
                            <input type="file" id="fPhotos" accept="image/*" class="mt-2">
                            <button type="submit" class="btn btn-primary full-width mt-4">Publish Package</button>
                        </form>
                    </div>
                    <div id="tabMyFinance" class="dash-tab">
                        <h2>My Finance Packages</h2>
                        <div id="myFinanceList" class="vehicle-grid"></div>
                    </div>

                    <!-- G. ROLE: INSURANCE PROVIDER -->
                    <div id="tabAddInsurance" class="dash-tab">
                        <h2>Add Insurance Policy</h2>
                        <form id="formAddInsurance" class="card">
                            <div class="grid-2">
                                <input type="text" id="iTitle" placeholder="Policy Name (e.g. Gold Cover)" required>
                                <select id="iType"><option>Full Insurance</option><option>Third Party</option></select>
                                <input type="text" id="iPremium" placeholder="Est. Premium (Optional)">
                            </div>
                            <textarea id="iDesc" placeholder="Coverage benefits, claim process..."></textarea>
                            <input type="file" id="iPhotos" accept="image/*" class="mt-2">
                            <button type="submit" class="btn btn-primary full-width mt-4">Publish Policy</button>
                        </form>
                    </div>
                    <div id="tabMyInsurance" class="dash-tab">
                        <h2>My Policies</h2>
                        <div id="myInsuranceList" class="vehicle-grid"></div>
                    </div>

                    <!-- H. ROLE: BUYER / USER -->
                    <div id="tabUserGarage" class="dash-tab">
                        <h2>My Garage</h2>
                        <div class="card mb-2">
                            <h3>Add Current Vehicle</h3>
                            <p class="text-secondary text-sm mb-2">Adding your vehicle helps us find parts and services for you.</p>
                            <form id="formUserGarage">
                                <div class="grid-2">
                                    <input type="text" id="ugBrand" placeholder="Brand" required>
                                    <input type="text" id="ugModel" placeholder="Model" required>
                                    <input type="number" id="ugYear" placeholder="Year">
                                    <input type="text" id="ugReg" placeholder="Reg Number (Private)">
                                </div>
                                <button class="btn btn-primary mt-2">Add to Garage</button>
                            </form>
                        </div>
                        <div id="myGarageList" class="vehicle-grid"></div>
                    </div>

                   <!-- COMMON: PAGE BUILDER -->
                    <div id="tabWebsite" class="dash-tab">
                        <h2>Page Builder</h2>
                        <div id="websiteLockScreen" class="lock-overlay">
                            <h3>Setup Your Business Page</h3>
                            <p>Update your Profile "City" first to create your unique URL.</p>
                            <input type="text" id="initSaleName" placeholder="Business Name">
                            <button id="btnUnlockWebsite" class="btn btn-primary">Create Page</button>
                        </div>
                        <div id="websiteEditor" class="hidden">
                            <div class="info-banner mb-2">
                                <strong>Your Live Page URL:</strong><br>
                                <a href="#" id="mySiteLink" target="_blank" class="font-bold text-lg">...</a>
                            </div>
                            <input type="hidden" id="webName">
                            <div class="card text-center" style="padding: 4rem 2rem;">
                                <i class="fa-solid fa-paintbrush text-accent" style="font-size: 4rem; margin-bottom: 20px;"></i>
                                <h3>Design Your Page</h3>
                                <p>Open the visual editor to customize your site.</p>
                                <a href="pagebuilder.html" class="btn btn-primary btn-lg mt-4"><i class="fa-solid fa-wand-magic-sparkles"></i> Open Visual Editor</a>
                            </div>
                        </div>
                    </div>

                    <!-- COMMON: MARKETPLACE (Expanded) -->
                    <div id="tabBuyerBrowse" class="dash-tab">
                        <h2>Marketplace</h2>
                        <div class="tabs-header">
                            <button id="filterVehicles" class="chip active" onclick="app.buyerFilter('vehicles')">Vehicles</button>
                            <button id="filterParts" class="chip" onclick="app.buyerFilter('parts')">Parts</button>
                            <button id="filterServices" class="chip" onclick="app.buyerFilter('services')">Services</button>
                            <button id="filterRentals" class="chip" onclick="app.buyerFilter('rentals')">Rentals</button>
                            <button id="filterFinance" class="chip" onclick="app.buyerFilter('finance_packages')">Finance</button>
                            <button id="filterInsurance" class="chip" onclick="app.buyerFilter('insurance_packages')">Insurance</button>
                        </div>
                        <input type="text" id="buyerSearch" placeholder="Search..." class="full-width mt-2 mb-2" onkeyup="app.runBuyerSearch()">
                        <div id="buyerGrid" class="vehicle-grid"></div>
                    </div>

                    <!-- COMMON: DIRECTORY -->
                    <div id="tabDirectory" class="dash-tab">
                        <h2>Business Directory</h2>
                        <div class="tabs-header">
                            <button class="chip active" onclick="app.connectFilter('all')">All</button>
                            <button class="chip" onclick="app.connectFilter('seller')">Car Sales</button>
                            <button class="chip" onclick="app.connectFilter('parts')">Parts</button>
                            <button class="chip" onclick="app.connectFilter('service')">Repair</button>
                            <button class="chip" onclick="app.connectFilter('rental')">Rentals</button>
                            <button class="chip" onclick="app.connectFilter('finance')">Finance</button>
                            <button class="chip" onclick="app.connectFilter('insurance')">Insurance</button>
                        </div>
                        <div class="grid-2 mb-2">
                            <input type="text" id="connectSearch" placeholder="Search Name..." onkeyup="app.filterConnect()">
                            <input type="text" id="connectCity" placeholder="Filter City..." onkeyup="app.filterConnect()">
                        </div>
                        <div id="sellersGrid" class="connect-grid"></div>
                    </div>

                    <!-- COMMON: SOCIAL CONNECT -->
                    <div id="tabConnect" class="dash-tab">
                        <h2>Social Connect</h2>
                        <div id="socialLockScreen" class="lock-overlay hidden">
                            <i class="fa-solid fa-user-shield text-primary" style="font-size:3rem;"></i>
                            <h3>Setup Social Profile</h3>
                            <input type="text" id="socialRealName" placeholder="Real Name" class="mt-4">
                            <input type="file" id="socialRealPhoto" class="mt-2">
                            <button id="btnUnlockSocial" class="btn btn-primary mt-2">Join</button>
                        </div>
                        <div id="socialFeedArea" class="hidden">
                            <div class="tabs-header">
                                <button class="chip active" onclick="app.showFeed()">Feed</button>
                                <button class="chip" onclick="app.showPeople()">People</button>
                                <button class="chip" onclick="app.showChats()">My Chats</button>
                            </div>
                            <div id="postCreator" class="card">
                                <form id="formPostFeed">
                                    <textarea id="feedText" class="full-width" rows="2" placeholder="Share update..."></textarea>
                                    <input type="file" id="feedImage" class="mt-2">
                                    <button class="btn btn-primary mt-2">Post</button>
                                </form>
                            </div>
                            <div id="feedStream" class="feed-grid"></div>
                            <div id="peopleStream" class="hidden connect-grid"></div>
                            <div id="chatListStream" class="hidden"></div>
                        </div>
                    </div>

                    <!-- COMMON: PROMOTE (New Workflow) -->
                    <div id="tabPromote" class="dash-tab">
                        <h2>Promote Your Business</h2>
                        
                        <!-- 1. Purchase Credits -->
                        <div class="card">
                            <h3>1. Buy Ad Credits</h3>
                            <p class="text-secondary mb-2">Rs. 5,000 for 1,000 Business Messages. Manual Payment.</p>
                            <p><strong>Commercial Bank (Homagama)</strong><br>Acc: 8750053306 (COLOMBAGE SD)</p>
                            <form id="formBuyCredits" class="mt-4">
                                <label>Upload Payment Receipt</label>
                                <input type="file" id="creditReceipt" required>
                                <button type="submit" class="btn btn-success mt-2">Submit for Approval</button>
                            </form>
                            <div id="creditStatus" class="alert-box info mt-2 hidden"></div>
                        </div>

                        <!-- 2. Create Campaign -->
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;">
                                <h3>2. Send Business Message</h3>
                                <span class="badge" style="font-size:1rem;">Credits: <span id="userAdCredits">0</span></span>
                            </div>
                            <form id="formCreateAd" class="mt-4">
                                <div class="form-group">
                                    <label>Message Title</label>
                                    <input type="text" id="adTitle" required>
                                </div>
                                <div class="form-group">
                                    <label>Message Content</label>
                                    <textarea id="adContent" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label>Link (Your Page/Item)</label>
                                    <input type="url" id="adLink" required>
                                </div>
                                <div class="form-group">
                                    <label>Target Audience</label>
                                    <select id="adTarget">
                                        <option value="all">Everyone</option>
                                        <option value="seller">Vehicle Sellers</option>
                                        <option value="buyer">Buyers</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Image (Optional)</label>
                                    <input type="file" id="adImage">
                                </div>
                                <button type="submit" class="btn btn-primary full-width">Send Message (Cost: 1 Credit)</button>
                            </form>
                        </div>
                        
                        <!-- 3. Track -->
                        <div class="card">
                            <h3>My Campaigns</h3>
                            <div id="myAdsList"></div>
                        </div>
                    </div>

                    <!-- COMMON: BIZ MESSAGES (Earning Tab) -->
                    <div id="tabBizMessages" class="dash-tab">
                        <h2>Biz Messages Inbox</h2>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:center;">
                                <div>
                                    <h3>Read & Earn</h3>
                                    <p class="text-secondary">Click "Visit" on ads to earn Rs. 2 per click.</p>
                                </div>
                                <div class="text-center">
                                    <span class="text-secondary">Pending Earnings</span>
                                    <h2 class="text-success">Rs. <span id="myPendingEarnings">0</span></h2>
                                </div>
                            </div>
                        </div>
                        <div id="bizMessageList" class="feed-grid"></div>
                    </div>

                    <!-- ADMIN -->
                    <div id="tabAdmin" class="dash-tab hidden">
                        <h2>Admin Dashboard</h2>
                        <div class="grid-2">
                            <div class="card">
                                <h3>Pending Credit Requests</h3>
                                <div id="adminCreditList"></div>
                            </div>
                            <div class="card">
                                <h3>Pending Payouts (User Earnings)</h3>
                                <div id="adminPayoutList"></div>
                            </div>
                        </div>
                    </div>

                </main>
            </div>
            
            <footer style="text-align:center; padding: 20px; font-size: 0.8rem; color: #94a3b8;">
                <p>&copy; 2025 DriveHub. <a href="#" onclick="alert('Developer Mode: Logic is in script.js and pagebuilder.html')" style="color:#64748b;">Build in Visual Studio</a></p>
            </footer>
        </section>
    </div>

    <!-- =======================================================
         GENERATED WEBSITE (AUTOMARKET DARK THEME)
    ======================================================== -->
    <div id="generatedSite" class="hidden dark-theme-site">
        <header class="gen-header">
            <div class="wrap nav">
                <div class="brand">
                    <div class="logo">DH</div>
                    <div><div class="site-name" id="genSiteName"></div><div class="site-tag" id="genSiteCity"></div></div>
                </div>
                <nav><ul><li><a href="#vehicles">Inventory</a></li><li><a href="#about">About</a></li><li><a href="#contact">Contact</a></li></ul></nav>
            </div>
        </header>
        <main class="wrap" id="genDynamicContent">
            <!-- DYNAMIC CONTENT LOADED HERE -->
        </main>
        <footer>Â© 2025 Powered by DriveHub</footer>
        <a id="floatWhatsapp" class="whatsapp-float" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="script.js"></script>
</body>
</html>
